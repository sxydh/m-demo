<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <div id="container" style="height: 100vh"></div>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <script>
        fetch('http://localhost:8080/ssq')
            .then(res => {
                if (!res.ok) {
                    throw new Error('Network response was not ok');
                }
                return res.json();
            })
            .then(res => {
                let data = res.json();

                let dates = data.map(e => e.d);
                let lineDatas = [
                    data.map(e => e.r),
                    data.map(e => e.r2),
                    data.map(e => e.r3),
                    data.map(e => e.r4),
                    data.map(e => e.r5),
                    data.map(e => e.r6),
                    data.map(e => e.b)
                ];

                let option = {
                    tooltip: {
                        trigger: 'axis'
                    },
                    xAxis: {
                        type: 'category',
                        data: dates
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [
                        {
                            name: '红1',
                            data: lineDatas[0],
                            type: 'line'
                        },
                        {
                            name: '红2',
                            data: lineDatas[1],
                            type: 'line'
                        },
                        {
                            name: '红3',
                            data: lineDatas[2],
                            type: 'line'
                        },
                        {
                            name: '红4',
                            data: lineDatas[3],
                            type: 'line'
                        },
                        {
                            name: '红5',
                            data: lineDatas[4],
                            type: 'line'
                        },
                        {
                            name: '红6',
                            data: lineDatas[5],
                            type: 'line'
                        },
                        {
                            name: '蓝',
                            data: lineDatas[6],
                            type: 'line'
                        }
                    ]
                };

                let chartContainer = echarts.init(document.getElementById('container'));
                chartContainer.setOption(option);
            })
            .catch(e => {
                console.debug('fetch', e);
            });
    </script>
</body>

</html>